{% extends 'base.html' %}
{% load static %}

{% block title %} Dashboard {% endblock %}

{% block style %} <link rel="stylesheet" href="{% static 'DashFlow/css/styles.css' %}">{% endblock %}

{% block script %} <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> {% endblock %}

{% block content %}

<h1>This is the current price of bitcoin: ${{data.last.close}}</h1>

<div id="chartContainer">
    <canvas id="myChart" width="200" height="200"></canvas>
</div>


<script>
    console.log({{chart_data.close|safe}})
    console.log({{chart_data.date|safe}})
    var ctx = document.getElementById('myChart').getContext('2d');
    var chart = new Chart(ctx, {
        type: 'line', // Change the type as per your needs
        data: {
            labels: {{ chart_data.date|safe }},
            datasets: [{
                label: 'Bitcoin Daily Close Prices',
                data: {{ chart_data.close|safe }},
                // Add other dataset properties like color, etc.
            },
            // You can add more datasets like high, low, close, volume etc.
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: true
        }
    });
    </script>
    

{% endblock %}